(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-pay-pay"],{"023b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAAAsCAMAAADxVg45AAAABGdBTUEAALGPC/xhBQAAAaRQTFRFOTMzNS8uNTAuNDQ0NS8uNS8vNS8vNDAvNDAvNjYvNDAvNTAvNC8vNzc3NDAvNS8vNDAuNS8uNTAuOS8vOjMzRkYuNS8uNzc3PDMzOjExNTAvNDAvNDAuODAwNTU1NC8vNC8uPDw8NS8vNzExNS8uVVVVNS8uOTMzNTAuZjMzNDQvNTAuVVVVOS8vNS8vNDAvNDAuNS8vNDAvNTAvNS8ugICAODAwNTAvNDAuNTAvNC8vODAwNS8vNTAwNzAwNjAwNTAvNTAvNi8vNzAwNC8uNTAvNC8uNC8vNDEvNjAwNTU1NDAwNTAwNC8uNjEvNi8vNTAwNTAwNjEuNjAwNDAuNDEvNTEvNTIvNS8vMy8vMzAuOTk5QDAwQEBAODIyNzAwNS8uNjYuNS8vNS8vRDMzNTU1NS8uNTAvSUlJNTAuNDAvOzExPTMzOTk5////NTAuNTAuNDAuNjY2My8vMzAvNTAvNTAvNC8uNTEvNC8vNC8uNDAvNDAvTTMzOzs7QEBANDAvNC8vOjouNDAuNC8uNTAwMzMzNDAvPTExAAAAMy8uNC8uBeprQgAAAIp0Uk5TKOe7J+i9uLq+JuXkyBzJ3tzdzBsjC+MOHh/F4OEgIsPNEdkqvAbCLewFMbEDNqzvfyv1z9gCO/Gmn/RArVtPVfaZd0XX0PiSYksYcIv5aFFqb2N2hF19V1yz1gkQDCkl4iG36Q8dx98Hy9saGRIBwMG1E5Hb+/z9g6f+tOYKDQjE0xaw7TAF1BUAEDeJQQAAAedJREFUSMet1/dXE0EQB/AoFiyAYleqKIgNOypYqAIqTSyBBCQhBpSS0AlpEs3d3Pef9hJCwLBz7L3b+fHevc/e7s7szrlIEHMLsBubLoEzNQP7IYDiP/DzF9kLERSrRzBAzqHEDXyfJOfQTR+iE+QcarwD/zg5h+7ex60Gcg49fY6m2+Qcmn+B5nvkHJpvw8tnpAB6h7ctgnfCSb3w0d/ldQvoA7o7RIMlDW2rwPljLPHQCD72Cr9a/10gmU4qzUJfsDLAzL9AEjm70CesfmVX8j9J6OShIax9ttiTPZLY2YH6ERm23N28xDg5qCeCwQPyJCdxzjb0ag3vD8y4rMQ6WejNKtolcteURlknA71ewQOpKtBHDcOd5kukFY8eSkHmvAxN56HpMPx1co5bY6XMGk37cGRcxkmldVbK7lriGA65ZBxznThpO48SxxEtknF4KZfZY4cRPSHjsNJOrY0dxckJGYeT8tUfK8ap8zIOI+2eR7EFXKySccTSnhPyQoi5qpf31cWWZmxYnNnealRUCqD1pX11oW98s7pFvElcu6LiOqL4VQQvq4AyLVZZQAVEl07jbIkKiKZKceacCog8M/YbSHHr5ynH9VkVENXW4MmsCojmHqOzTwVEi11qGnZTCtn/hfgHR9F26Zwmv88AAAAASUVORK5CYII="},3734:function(t,e,n){"use strict";n("c975"),n("a9e3"),n("d3b7"),n("acd8"),n("ac1f"),n("25f0"),n("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("1956"),a={data:function(){return{money:"0",whether:null,query:{},allUrl:"http://pay.jiangxinit.com",info:{}}},onLoad:function(t){this.query=t,console.log(t),t.openid||this.getOpenid(),this.getShop(t)},methods:{getOpenid:function(){var t={url:"http://web.jiangxinit.com/h5/vip.html#/pages/pay/pay",mchntCd:this.query.mchntcd,sid:this.query.sid};i.http.post(this.allUrl+"/api/pay/oAuthOpenIdByFuiou",t).then((function(t){location.replace(t.data.data)})).catch((function(t){}))},submit:function(){var t=Date.parse(new Date)+"",e={money:Number(this.money),mchnt_cd:this.query.mchntcd,type:"wxpay",name:this.query.sid?"KS"+this.query.sid+"-"+t.substr(t.length-7):"向商家付款",openId:this.query.openid,appId:this.query.appid,sid:this.query.sid?this.query.sid:null};i.http.post(this.allUrl+"/api/pay/receiptcode",e).then((function(t){function e(){WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:t.data.sdk_appid,timeStamp:t.data.sdk_timestamp,nonceStr:t.data.sdk_noncestr,package:t.data.sdk_package,signType:t.data.sdk_signtype,paySign:t.data.sdk_paysign},(function(t){"get_brand_wcpay_request:ok"===t.err_msg&&(window.location.href="paySuccess.html?money="+money)}))}console.log(t),"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",e,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",e),document.attachEvent("onWeixinJSBridgeReady",e)):e()})).catch((function(t){}))},getShop:function(t){var e=this,n={mchntCd:t.mchntcd,sid:t.sid?t.sid:null};i.http.post(this.allUrl+"/api/pay/greceipt",n).then((function(t){console.log(t),0==t.data.code&&(e.info=t.data.data)})).catch((function(t){}))},touchstart:function(t){this.whether=t,console.log(this.whether,t)},touchend:function(){this.whether=null},btnNum_onclick:function(t,e){if(console.log(this.money),!(this.money+t<99999))return!1;this.money=this.money.toString()+t.toString(),this.money=this.money.replace(/[^\d.]/g,""),this.money=this.money.replace(/\.{2,}/g,"."),this.money=this.money.replace(".","$#$").replace(/\./g,"").replace("$#$","."),this.money=this.money.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),this.money.indexOf(".")<0&&""!=this.money&&(this.money=parseFloat(this.money),this.money=this.money.toString()),console.log(this.money)},delText:function(t){this.money=this.money.substring(0,this.money.length-1).toString()}}};e.default=a},"4c78":function(t,e,n){"use strict";var i=n("ae28"),a=n.n(i);a.a},7313:function(t,e,n){"use strict";n.r(e);var i=n("d4f6"),a=n("fbde");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("4c78");var c,s=n("f0c5"),u=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"4f999cf4",null,!1,i["a"],c);e["default"]=u.exports},a590:function(t,e,n){t.exports=n.p+"static/img/shopLog.fd9741b4.png"},ae28:function(t,e,n){var i=n("f3af");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("89f9a4f4",i,!0,{sourceMap:!1,shadowMode:!1})},d4f6:function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"pay"},[i("v-uni-view",{staticClass:"bg"}),i("v-uni-view",{staticClass:"pay-content"},[i("v-uni-view",{staticClass:"pay-box"},[i("v-uni-view",{staticClass:"t-content"},[i("v-uni-view",{staticClass:"shopLog"},[i("v-uni-image",{attrs:{src:n("a590"),mode:""}})],1),i("v-uni-view",{staticClass:"text"},[i("v-uni-view",{staticClass:"group"},[t._v(t._s(t.info.shopName))]),i("v-uni-view",{staticClass:"shop"},[i("v-uni-view",{staticClass:"tag"},[t._v("门店")]),i("v-uni-view",{staticClass:"shopName"},[t._v(t._s(t.info.shortName))])],1)],1)],1),i("v-uni-view",{staticClass:"b-content"},[i("v-uni-view",{staticClass:"title"},[t._v("消费金额(元)")]),i("v-uni-view",{staticClass:"inputs"},[t._v("￥"),i("v-uni-text",[t._v(t._s(t.money))])],1)],1)],1)],1),i("v-uni-view",{staticClass:"key"},[i("v-uni-view",[i("v-uni-view",{staticClass:"key_row"},[i("v-uni-view",{staticClass:"key-line"},[i("v-uni-text",{class:{numBg:1==t.whether},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.touchstart(1)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.touchend.apply(void 0,arguments)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.btnNum_onclick(1,this)}}},[t._v("1")]),i("v-uni-text",{class:{numBg:2==t.whether},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.touchstart(2)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.touchend.apply(void 0,arguments)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.btnNum_onclick(2,this)}}},[t._v("2")]),i("v-uni-text",{class:{numBg:3==t.whether},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.touchstart(3)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.touchend.apply(void 0,arguments)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.btnNum_onclick(3,this)}}},[t._v("3")])],1),i("v-uni-text",{staticClass:"bd-r",class:{numBg:"-"==t.whether},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.touchstart("-")},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.touchend.apply(void 0,arguments)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.delText(this)}}},[i("i",{staticClass:"delete"},[i("v-uni-image",{attrs:{src:n("023b"),mode:""}})],1)])],1),i("v-uni-view",{staticClass:"separate"},[i("v-uni-view",{staticClass:"right_separate"},[i("v-uni-view",{staticClass:"key_row"},[i("v-uni-text",{class:{numBg:4==t.whether},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.touchstart(4)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.touchend.apply(void 0,arguments)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.btnNum_onclick(4,this)}}},[t._v("4")]),i("v-uni-text",{class:{numBg:5==t.whether},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.touchstart(5)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.touchend.apply(void 0,arguments)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.btnNum_onclick(5,this)}}},[t._v("5")]),i("v-uni-text",{class:{numBg:6==t.whether},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.touchstart(6)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.touchend.apply(void 0,arguments)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.btnNum_onclick(6,this)}}},[t._v("6")])],1),i("v-uni-view",{staticClass:"key_row"},[i("v-uni-text",{class:{numBg:7==t.whether},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.touchstart(7)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.touchend.apply(void 0,arguments)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.btnNum_onclick(7,this)}}},[t._v("7")]),i("v-uni-text",{class:{numBg:8==t.whether},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.touchstart(8)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.touchend.apply(void 0,arguments)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.btnNum_onclick(8,this)}}},[t._v("8")]),i("v-uni-text",{class:{numBg:9==t.whether},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.touchstart(9)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.touchend.apply(void 0,arguments)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.btnNum_onclick(9,this)}}},[t._v("9")])],1),i("v-uni-view",{staticClass:"key_row"},[i("v-uni-text",{class:{numBg:0==t.whether},staticStyle:{flex:"2"},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.touchstart(0)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.touchend.apply(void 0,arguments)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.btnNum_onclick(0,this)}}},[t._v("0")]),i("v-uni-text",{class:{numBg:"."==t.whether},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.touchstart(".")},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.touchend.apply(void 0,arguments)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.btnNum_onclick(".",this)}}},[t._v(".")])],1)],1),i("v-uni-view",{staticClass:"left_separate",attrs:{id:"separate"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"notarize",staticStyle:{border:"none"}},[t._v("确认支付")])],1)],1)],1)],1)],1)},o=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}))},f3af:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,"uni-page-body[data-v-4f999cf4]{height:100%}.numBg[data-v-4f999cf4]{background-color:red;color:#fff}.pay[data-v-4f999cf4]{overflow:hidden;position:relative;background-color:#fff;height:100vh}.key[data-v-4f999cf4]{height:%?575?%;background-color:#fff;position:absolute;bottom:0;left:0;right:0}.delete uni-image[data-v-4f999cf4]{width:%?72?%;height:%?44?%}.bd-r[data-v-4f999cf4]{border-right:none!important;-webkit-box-flex:1;-webkit-flex:1;flex:1}.key_row[data-v-4f999cf4]{display:-webkit-box;display:-webkit-flex;display:flex;height:%?144?%;line-height:%?144?%;text-align:center;font-size:%?50?%;color:#332f2e;background:#fff}.key_row .key-line[data-v-4f999cf4]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-flex:3;-webkit-flex:3;flex:3}.key_row uni-text[data-v-4f999cf4]{cursor:pointer;-webkit-box-flex:1;-webkit-flex:1;flex:1;border-top:%?1?% solid #eee;border-right:%?1?% solid #eee}.key_row .right_border[data-v-4f999cf4]{border-right:none}.left_separate[data-v-4f999cf4]{-webkit-box-flex:1;-webkit-flex:1;flex:1;background:#f63100;font-size:%?50?%;color:#fff;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:Center;-webkit-align-items:Center;align-items:Center}.separate[data-v-4f999cf4]{display:-webkit-box;display:-webkit-flex;display:flex}.right_separate[data-v-4f999cf4]{-webkit-box-flex:3;-webkit-flex:3;flex:3}.left_separate .notarize[data-v-4f999cf4]{vertical-align:middle;width:%?100?%;height:%?140?%;padding:0 %?44?%}.bg[data-v-4f999cf4]{height:%?180?%;background-color:#db2c00}.pay-content[data-v-4f999cf4]{padding:0 %?42?%;position:absolute;top:0;width:100%}.pay-content .pay-box[data-v-4f999cf4]{position:absolute;top:%?30?%;background:#fff;box-shadow:%?10?% %?10?% %?20?% 0 rgba(0,0,0,.1);border-radius:%?8?% %?8?%;height:%?300?%;width:%?666?%}.pay-content .pay-box .t-content[data-v-4f999cf4]{border-radius:%?8?% %?8?% 0 0;background-color:#f63100;height:50%;width:100%;display:-webkit-box;display:-webkit-flex;display:flex}.pay-content .pay-box .t-content .shopLog[data-v-4f999cf4]{height:%?100?%;width:%?100?%;border-radius:50%;padding:%?25?% %?30?%}.pay-content .pay-box .t-content .shopLog uni-image[data-v-4f999cf4]{border-radius:50%;width:100%;height:100%}.pay-content .pay-box .t-content .text[data-v-4f999cf4]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.pay-content .pay-box .t-content .text .group[data-v-4f999cf4]{height:%?48?%;line-height:%?48?%;font-size:%?34?%;color:#fff}.pay-content .pay-box .t-content .text .shop[data-v-4f999cf4]{padding-top:%?10?%;display:-webkit-box;display:-webkit-flex;display:flex;height:%?33?%;line-height:%?33?%}.pay-content .pay-box .t-content .text .shop .tag[data-v-4f999cf4]{width:%?65?%;height:%?32?%;opacity:.8;font-size:%?20?%;position:relative;text-align:center;line-height:%?32?%;color:#f63100;background:#fff;border-radius:%?4?%}.pay-content .pay-box .t-content .text .shop .shopName[data-v-4f999cf4]{padding-left:%?10?%;opacity:.8;font-size:%?24?%;color:#fff}.pay-content .pay-box .b-content[data-v-4f999cf4]{height:50%;width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;box-sizing:border-box;padding:0 %?30?%}.pay-content .pay-box .b-content .title[data-v-4f999cf4]{opacity:.6;font-size:%?30?%;color:#332f2e;padding:%?54?% 0;width:%?200?%}.pay-content .pay-box .b-content .inputs[data-v-4f999cf4]{font-size:%?50?%;color:#f63100;padding:%?40?% 0;font-weight:600}",""]),t.exports=e},fbde:function(t,e,n){"use strict";n.r(e);var i=n("3734"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a}}]);