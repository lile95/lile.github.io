(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-coupon-coupon"],{1335:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.allMenu=i,e.info=s,e.ordersSplit=c,e.memberPay=r,e.getCrmCard=u,e.myorders=a,e.pay=d,e.param=p,e.orderDetails=h,e.getInfo=f,e.getOpenId=l,e.getPhone=v,e.getUnionid=m,e.getCoupon=b,e.discountPrice=k,e.tuiwm=w,e.cancelwm=C,e.placeAnOrder=g,e.confirm=y,e.addAddr=_,e.addrEdit=x,e.addrGet=L,e.addrDel=I,e.calAmount=M,e.upCardPage=O;var o=n("1956");function i(t){return o.http.post("/dian/menu/allMenu?wmType="+t.wmtype+"&shopId="+t.shopId)}function s(t){return o.http.post("/dian/shop/info?wmType="+t.wmtype+"&shopId="+t.shopId)}function c(t){return o.http.post("/dian/orders/split",t)}function r(t){return o.http.post("/dishes/orders/memberPay",t)}function u(t){return o.http.post("/crm/getCrmCard",t)}function a(t){return o.http.post("/dian/orders/myorders",t)}function d(t){return o.http.post("/dian/orders/payvip",t)}function p(t,e){return o.http.post("/dishes/menuShop/param?param="+t+"&shopId="+e)}function h(t){return o.http.post("/dian/orders/return",t)}function f(t){return o.http.post("/dian/shop/info?shopId="+t+"&wmType=1")}function l(t,e,n){var i={code:e,wxUser:n};return o.http.post("/dian/miniapp/"+t+"/info",i)}function v(t,e,n,i){console.log(e,n);var s={session_key:i.session_key,encryptedData:e.encryptedData,iv:e.iv,appType:0,openid:i.openid,unionid:i.unionid,userInfo:n.userInfo};return o.http.post("/dian/miniapp/"+t+"/phone?",s)}function m(t){return o.http.post("/crm/unionid",t)}function b(t){return o.http.post("/tapi/memberCoupon",t)}function k(t){return o.http.post("/dishes/api/discountPrice",t)}function w(t){return o.http.post("/dishes/orders/tuiwm",t)}function C(t){return o.http.post("/dishes/orders/cancelwm",t)}function g(t){return o.http.post("/dian/orders/entry",t)}function y(t){return o.http.post("/dishes/orders/confirm",t)}function _(t){return o.http.post("/dian/addr",t)}function x(t){return o.http.post("/dian/addr/edit",t)}function L(t){return o.http.post("/dian/addr/get",t)}function I(t){return o.http.post("/dian/addr/del/"+t)}function M(t){return o.http.post("/dian/orders/amount",t)}function O(t){return o.http.post("/crm/upCardInfo",t)}},1843:function(t,e,n){var o=n("c78e");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=n("4f06").default;i("49d20f7d",o,!0,{sourceMap:!1,shadowMode:!1})},"392b":function(t,e,n){"use strict";var o=n("ee27");n("4160"),n("c975"),n("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("f3f3")),s=n("1335"),c=n("2f62"),r={data:function(){return{checkList:[],payMoney:"",checkbox:null,ticketCode:"",typeList:["满减券","礼品券","抵扣券","折扣券"],ticketStatusList:["未发放","已领取","已使用","已无效","立即领取"],checks:[]}},onLoad:function(t){this.checks=this.$store.state.couponChecks,console.log(this.couponList)},computed:(0,i.default)({},(0,c.mapState)(["couponList"])),methods:{submit:function(){uni.navigateBack(),this.$store.state.couponChecks=this.checks},getCouponList:function(){var t=this,e={openId:uni.getStorageSync("isWxMemberOpenId"),ticketStatus:1,payMoney:this.$store.state.payAmount};(0,s.getCoupon)(e).then((function(e){console.log(e),t.couponList=e.data.data,t.checks=t.$store.state.couponChecks})).catch((function(t){}))},checkedCoupon:function(t,e){0!==e.mixUse?(null==this.checkList[t]?this.checkList[t]=t:this.checkList[t]=null,this.checks=this.checkList,this.checkbox=null):(console.log(this.checks,this.checkbox,t,""),-1==this.checks.indexOf(e.ticketCode)?(this.checkbox=t,this.ticketCode=e.ticketCode,this.checks=[this.ticketCode]):(this.checkbox=null,this.ticketCode=null,this.checks=""),this.checkList=[]),this.$forceUpdate()},getCheckRow:function(t){if(t){var e=[];return this.couponList.forEach((function(n,o){-1!=t.indexOf(o)&&e.push(n)})),e}return""}}};e.default=r},7762:function(t,e,n){"use strict";n.r(e);var o=n("392b"),i=n.n(o);for(var s in o)"default"!==s&&function(t){n.d(e,t,(function(){return o[t]}))}(s);e["default"]=i.a},8156:function(t,e,n){"use strict";var o=n("1843"),i=n.n(o);i.a},b821:function(t,e,n){"use strict";var o,i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"coupons"},[t._l(t.couponList,(function(e,o){return t.couponList.length?n("v-uni-view",{key:e.id,staticClass:"coupon-item",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.checkedCoupon(o,e)}}},[n("v-uni-view",{staticClass:"row-line cl-monet"},[3==e.type?n("v-uni-view",{staticClass:"money-num"},[t._v(t._s(10*e.discount)+"折")]):n("v-uni-view",{staticClass:"money-num"},[t._v("￥"+t._s(e.amount))]),n("v-uni-view",{staticClass:"money-text"},[t._v(t._s(t.typeList[e.type]))])],1),n("v-uni-view",{staticClass:"row"},[n("v-uni-view",{staticClass:"row-conten"},[n("v-uni-view",{staticClass:"row-line line-middle"},[e.templateName?n("v-uni-view",{staticClass:"coupon-min-title"},[t._v(t._s(e.templateName))]):t._e(),e.edate?n("v-uni-view",{staticClass:"coupon-time"},[t._v("截止日期："+t._s(e.edate))]):t._e()],1)],1),n("v-uni-view",{staticClass:"meet"},[e.enableAmount?n("v-uni-view",{staticClass:"meet-text"},[t._v("满"+t._s(e.enableAmount)+"可用")]):t._e()],1),-1!=t.checks.indexOf(e.ticketCode)?n("v-uni-view",{staticClass:"tag-select"},[n("v-uni-text",{staticClass:"tag-check"},[t._v("✔")])],1):t._e()],1)],1):t._e()})),n("v-uni-view",{staticClass:"btn-box"},[n("v-uni-button",{attrs:{type:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("确认使用")])],1)],2)},s=[];n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return o}))},c2f4:function(t,e,n){"use strict";n.r(e);var o=n("b821"),i=n("7762");for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);n("8156");var c,r=n("f0c5"),u=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,"64293068",null,!1,o["a"],c);e["default"]=u.exports},c78e:function(t,e,n){var o=n("24fb");e=o(!1),e.push([t.i,".coupons[data-v-64293068]{padding:%?24?%}.coupons .coupon-item[data-v-64293068]{position:relative}.coupons .tag-select[data-v-64293068]{width:0;height:0;border-top:%?32?% solid #e5004f;border-right:%?32?% solid #e5004f;border-left:%?32?% solid #fff;border-bottom:%?32?% solid #fff;position:absolute;top:0;right:0}.coupons .tag-select .tag-check[data-v-64293068]{font-size:%?32?%;position:absolute;top:%?-36?%;right:%?-28?%;color:#fff}.btn-box[data-v-64293068]{text-align:center;position:fixed;width:%?702?%;bottom:%?64?%}.btn-box uni-button[data-v-64293068]{width:80%;height:%?88?%;line-height:%?88?%;background-color:#f63100;color:#fff;box-shadow:0 0 %?19?% %?1?% rgba(0,0,0,.35)}.btn-box .err[data-v-64293068]{background-color:#eee}",""]),t.exports=e}}]);