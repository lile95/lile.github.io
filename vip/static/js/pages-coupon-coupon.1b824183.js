(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-coupon-coupon"],{"1de5":function(t,e,n){"use strict";t.exports=function(t,e){return e||(e={}),t=t&&t.__esModule?t.default:t,"string"!==typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},"2bfc":function(t,e,n){var o=n("915c");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=n("4f06").default;i("86e32e2e",o,!0,{sourceMap:!1,shadowMode:!1})},"4cd3":function(t,e,n){"use strict";n("b680"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n("1956"),i={data:function(){return{typeList:["满减券","礼品券","抵扣券","折扣券"],ticketStatusList:["未发放","已领取","已使用","已无效","立即领取"],couponList:[],showLoad:!1,Fixed:function(t){return 3===t.type?(10*t.discount).toFixed(1)+"折":"￥"+t.amount}}},onLoad:function(){this.getCouponList()},activated:function(){this.getCouponList(),console.log("执行页面数据刷新的方法")},methods:{getCouponList:function(){var t=this;this.showLoad=!1,uni.showLoading({title:"loading"});var e={openId:this.$route.query.openId||uni.getStorageSync("isWxMemberOpenId"),ticketStatus:4};o.http.post("/tapi/memberCoupon",e).then((function(e){0===e.data.code?t.couponList=e.data.data:t.couponList=[],uni.hideLoading(),t.showLoad=!0})).catch((function(e){uni.hideLoading(),t.showLoad=!0}))},etdiscounts:function(t){var e=this,n={code:t,openId:uni.getStorageSync("isWxMemberOpenId")||this.$route.query.openId};o.http.post("/tapi/receiveTicket",n).then((function(t){console.log(t),0===t.data.code&&(uni.showModal({title:"提示",content:"领取成功",showCancel:!1,success:function(t){t.confirm?console.log("用户点击确定"):t.cancel&&console.log("用户点击取消")}}),e.getCouponList())})).catch((function(t){}))},goDetails:function(t){uni.navigateTo({url:"../couponDetails/couponDetails?id="+t})}}};e.default=i},7963:function(t,e,n){"use strict";n.r(e);var o=n("4cd3"),i=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=i.a},"915c":function(t,e,n){var o=n("24fb"),i=n("1de5"),a=n("dc1d");e=o(!1);var s=i(a);e.push([t.i,".pad[data-v-661b4563]{padding-left:%?20?%}.coupon-content[data-v-661b4563]{padding:%?20?% %?24?%;background-color:#fafafa;height:100%;box-sizing:border-box}.coupon[data-v-661b4563]{background-color:#fafafa;height:100vh;box-sizing:border-box}.line-middle[data-v-661b4563]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;margin-right:%?160?%;height:100%}.none-image[data-v-661b4563]{background-size:100% 100%;background-image:url("+s+");background-repeat:no-repeat;width:%?422?%;height:%?202?%;margin:0 auto}",""]),t.exports=e},ab7c:function(t,e,n){"use strict";n.r(e);var o=n("ecc8"),i=n("7963");for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);n("effd");var s,c=n("f0c5"),u=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,"661b4563",null,!1,o["a"],s);e["default"]=u.exports},dc1d:function(t,e,n){t.exports=n.p+"static/img/none.1a716f9c.png"},ecc8:function(t,e,n){"use strict";var o,i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"coupon"},[n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.showLoad,expression:"showLoad"}],staticClass:"coupon-content"},[t._l(t.couponList,(function(e){return t.couponList.length?n("v-uni-view",{key:e.id,staticClass:"coupon-item"},[n("v-uni-view",{staticClass:"row-line cl-monet",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.goDetails(e.ticketCode)}}},[3==e.type?n("v-uni-view",{staticClass:"money-num"},[t._v(t._s(10*e.discount)+"折")]):n("v-uni-view",{staticClass:"money-num"},[t._v("￥"+t._s(e.amount))]),n("v-uni-view",{staticClass:"money-text"},[t._v(t._s(t.typeList[e.type]))])],1),n("v-uni-view",{staticClass:"row"},[n("v-uni-view",{staticClass:"row-conten"},[n("v-uni-view",{staticClass:"row-line line-middle",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.goDetails(e.ticketCode)}}},[n("v-uni-view",{staticClass:"coupon-min-title"},[t._v(t._s(e.templateName))]),n("v-uni-view",{staticClass:"coupon-time"},[t._v("截止日期："+t._s(e.edate))])],1),n("v-uni-button",{on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.etdiscounts(e.ticketCode)}}},[t._v("立即领取")])],1),n("v-uni-view",{staticClass:"meet"},[e.enableAmount?n("v-uni-view",{staticClass:"meet-text"},[t._v("满"+t._s(e.enableAmount)+"可用"),e.isMine?n("v-uni-text",{staticClass:"pad"},[t._v(t._s("可多张同时使用"))]):t._e()],1):t._e()],1)],1)],1):t._e()})),n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!t.couponList.length&&t.showLoad,expression:"!couponList.length&&showLoad"}],staticClass:"none-coupon"},[n("v-uni-view",{staticClass:"none-image"}),n("v-uni-view",{staticClass:"none-text"},[t._v("暂时没有可领取的优惠券")])],1)],2)],1)},a=[];n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o}))},effd:function(t,e,n){"use strict";var o=n("2bfc"),i=n.n(o);i.a}}]);